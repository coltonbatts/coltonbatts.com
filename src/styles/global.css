@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================
 * SELF-HOSTED FONTS
 * No external CDNs. These files live in /public/fonts/.
 * IBM Plex Mono: the instrument layer (nav, labels, metadata).
 * Inter: the structural layer (headlines, body, authority).
 * ============================================================= */

@font-face {
	font-family: 'Geist Pixel';
	src: url('/fonts/GeistPixel-Square.woff2') format('woff2');
	font-weight: 400;
	font-style: normal;
	font-display: block;
}

@font-face {
	font-family: 'Geist Pixel Circle';
	src: url('/fonts/GeistPixel-Circle.woff2') format('woff2');
	font-weight: 400;
	font-style: normal;
	font-display: block;
}

@font-face {
	font-family: 'Geist Pixel Triangle';
	src: url('/fonts/GeistPixel-Triangle.woff2') format('woff2');
	font-weight: 400;
	font-style: normal;
	font-display: block;
}

@font-face {
	font-family: 'Geist Pixel Grid';
	src: url('/fonts/GeistPixel-Grid.woff2') format('woff2');
	font-weight: 400;
	font-style: normal;
	font-display: block;
}

@font-face {
	font-family: 'Geist Pixel Line';
	src: url('/fonts/GeistPixel-Line.woff2') format('woff2');
	font-weight: 400;
	font-style: normal;
	font-display: block;
}

@font-face {
	font-family: 'IBM Plex Mono';
	src: url('/fonts/IBMPlexMono-Regular.woff2') format('woff2');
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'Inter';
	src: url('/fonts/Inter-Regular.woff2') format('woff2');
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'Inter';
	src: url('/fonts/Inter-Black.woff2') format('woff2');
	font-weight: 900;
	font-style: normal;
	font-display: swap;
}

/* =============================================================
 * CSS CUSTOM PROPERTIES
 * The design language distilled into tokens.
 * ============================================================= */

:root {
	--charcoal: #ffffff;
	--ink: #ffffff;
	--bg-manual: #000000;
	--bg-manual-light: #000000;
	--bone: #000000;
	--raw: #ffffff;
	--raw-dark: #ffffff;

	/* Borders — the structural grid */
	--border-weight: 2px;
	--border-color: #ffffff;
	--border-muted: #000000;

	/* Material noise — SVG feTurbulence, no image files */
	--noise-opacity: 0.15;
	--noise-blend: screen;

	/* Shadows — stamped, not floating */
	--shadow-stamp: 4px 4px 0px rgba(255, 255, 255, 1);
	--shadow-stamp-lg: 8px 8px 0px rgba(255, 255, 255, 1);
	--shadow-stamp-hover: 12px 12px 0px rgba(255, 255, 255, 1);
	--motion-strength: 0.66;
	--motion-hero-progress: 0;
	--motion-specimen-progress: 0;
}

/* =============================================================
 * BASE LAYER
 * ============================================================= */

@layer base {
	html {
		font-family: 'Geist Pixel', 'Inter', system-ui, -apple-system, sans-serif;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		letter-spacing: -0.01em;
		background-color: #000000;
		font-variant-numeric: tabular-nums;
	}

	body {
		font-family: 'Geist Pixel', sans-serif;
		background-color: #000000 !important;
		min-height: 100vh;
		color: #ffffff !important;
		position: relative;
		isolation: isolate;
	}

	/* Atmospheric lighting: REMOVED for Stark B&W */
	body::before {
		display: none;
	}

	/* Material noise: REMOVED for Stark B&W */
	body::after {
		display: none;
	}

	/* -----------------------------------------------------------
	 * GLOBAL TYPOGRAPHY RESETS
	 * Headlines are black, heavy, and tight. Body is readable.
	 * Monospace is used for anything that labels or classifies.
	 * ----------------------------------------------------------- */

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		font-family: 'Geist Pixel', system-ui, sans-serif;
		font-weight: 900;
		letter-spacing: -0.03em;
		line-height: 1.1;
		color: #ffffff !important;
	}

	h1,
	h2 {
		font-family: 'Geist Pixel Circle', sans-serif;
		text-transform: uppercase;
	}

	h1 {
		font-size: 2.75rem;
		letter-spacing: -0.04em;
	}

	h2 {
		font-size: 2rem;
		letter-spacing: -0.03em;
	}

	h3 {
		font-size: 1.5rem;
	}

	h4 {
		font-size: 1.125rem;
	}

	@media (min-width: 768px) {
		h1 {
			font-size: 3.5rem;
		}

		h2 {
			font-size: 2.5rem;
		}

		h3 {
			font-size: 1.75rem;
		}
	}

	/* Kill all border-radius globally as reinforcement */
	*,
	*::before,
	*::after {
		border-radius: 0 !important;
	}

	/* -----------------------------------------------------------
	 * MOBILE MENU TOGGLE: Hamburger → X morph
	 * Three spans animate into a cross when .is-open is set.
	 * ----------------------------------------------------------- */

	#mobile-menu-toggle span {
		transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1),
			opacity 0.15s ease;
		transform-origin: center;
	}

	#mobile-menu-toggle.is-open span:nth-child(1) {
		transform: translateY(4px) rotate(45deg);
	}

	#mobile-menu-toggle.is-open span:nth-child(2) {
		opacity: 0;
		transform: scaleX(0);
	}

	#mobile-menu-toggle.is-open span:nth-child(3) {
		transform: translateY(-4px) rotate(-45deg);
	}

	/* Selection highlight uses the raw accent */
	::selection {
		background-color: #ffffff;
		color: #000000;
	}

	/* Links: raw accent on hover, no ambiguity */
	a {
		transition: color 0.15s ease;
	}

	/* Focus states: stark, visible, accessible */
	:focus-visible {
		outline: 2px solid #ffffff;
		outline-offset: 2px;
	}

	/* Horizontal rules: structural dividers */
	hr {
		border: none;
		border-top: var(--border-weight) solid var(--border-color);
		margin: 2rem 0;
	}

	/* Print styles */
	@media print {

		header,
		footer {
			display: none;
		}

		a {
			text-decoration: underline;
		}

		a[href^="http"]:after {
			content: " (" attr(href) ")";
			font-size: 0.8em;
			color: #666;
		}
	}

	/* -----------------------------------------------------------
	 * FONT CLUSTERING: "Technical Poster Specimen"
	 * Aggressive glitch-jitter with layered pixel depth.
	 * ----------------------------------------------------------- */

	@keyframes geist-glitch {

		0%,
		10% {
			font-family: 'Geist Pixel', sans-serif;
			text-shadow: 4px 4px 0px rgba(255, 255, 255, 0.4);
			letter-spacing: -0.04em;
			transform: scale(1);
			opacity: 1;
		}

		11%,
		25% {
			font-family: 'Geist Pixel Circle', sans-serif;
			text-shadow: -3px 2px 0px rgba(255, 255, 255, 0.6);
			letter-spacing: 0.02em;
			transform: skewX(-2deg);
		}

		26%,
		40% {
			font-family: 'Geist Pixel Triangle', sans-serif;
			text-shadow: 6px -2px 0px rgba(255, 255, 255, 0.3);
			letter-spacing: -0.06em;
			transform: scale(1.02);
		}

		41%,
		55% {
			font-family: 'Geist Pixel Grid', sans-serif;
			text-shadow: 2px 5px 0px rgba(255, 255, 255, 0.5);
			letter-spacing: 0em;
			opacity: 0.8;
		}

		56%,
		70% {
			font-family: 'Geist Pixel Line', sans-serif;
			text-shadow: -4px -4px 0px rgba(255, 255, 255, 0.4);
			letter-spacing: 0.04em;
			transform: skewX(2deg);
		}

		71%,
		85% {
			font-family: 'Geist Pixel', sans-serif;
			text-shadow: 0px 8px 0px rgba(255, 255, 255, 0.2);
			letter-spacing: -0.04em;
			opacity: 0.9;
		}

		86%,
		100% {
			font-family: 'Geist Pixel', sans-serif;
			text-shadow: 0px 0px 0px rgba(255, 255, 255, 0);
			letter-spacing: -0.05em;
			transform: scale(1);
		}
	}

	.animate-glitch {
		animation: geist-glitch 0.4s steps(1) infinite;
		display: inline-block;
		will-change: transform, opacity, font-family, text-shadow;
	}

	/* -----------------------------------------------------------
	 * SPECIMEN DECORATORS: Poster-aesthetic technical marks
	 * ----------------------------------------------------------- */

	.specimen-tag {
		font-family: 'IBM Plex Mono', monospace;
		font-size: 9px;
		font-weight: 700;
		text-transform: uppercase;
		letter-spacing: 0.2em;
		color: #ffffff;
		display: flex;
		align-items: center;
		gap: 0.5rem;
		opacity: 0.6;
	}

	.specimen-tag--vertical {
		writing-mode: vertical-rl;
		text-orientation: mixed;
	}

	.specimen-tag::before {
		content: '';
		width: 1rem;
		height: 1px;
		background: currentColor;
	}

	.specimen-grid {
		display: grid;
		grid-template-columns: repeat(4, 1fr);
		gap: 2px;
		opacity: 0.3;
	}

	.specimen-grid span {
		display: block;
		width: 2px;
		height: 2px;
		background: white;
	}

	.specimen-crosshair {
		position: absolute;
		width: 20px;
		height: 20px;
		opacity: 0.5;
	}

	.specimen-crosshair::before,
	.specimen-crosshair::after {
		content: '';
		position: absolute;
		background: white;
	}

	.specimen-crosshair::before {
		top: 50%;
		left: 0;
		width: 100%;
		height: 1px;
	}

	.specimen-crosshair::after {
		left: 50%;
		top: 0;
		width: 1px;
		height: 100%;
	}
}

/* =============================================================
 * COMPONENT LAYER
 * Reusable structural patterns.
 * ============================================================= */

@layer components {

	/* -----------------------------------------------------------
	 * SECTION CONTAINER: The structural card
	 * Used for any boxed content section.
	 * ----------------------------------------------------------- */

	.section-block {
		background-color: #000000 !important;
		border: var(--border-weight) solid var(--border-color);
		box-shadow: var(--shadow-stamp);
		padding: 2rem;
		transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1),
			box-shadow 0.2s cubic-bezier(0.2, 0, 0, 1);
	}

	.section-block:hover {
		transform: translate(-2px, -2px);
		box-shadow: var(--shadow-stamp-hover);
	}

	/* Non-interactive blocks shouldn't shift on hover */
	.section-block--static {
		pointer-events: auto;
	}

	.section-block--static:hover {
		transform: none;
		box-shadow: var(--shadow-stamp);
	}

	/* -----------------------------------------------------------
	 * SECTION LABEL: Monospaced category headers
	 * The "machine-engraved plate" above content sections.
	 * ----------------------------------------------------------- */

	.section-label {
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 11px;
		font-weight: 700;
		text-transform: uppercase;
		letter-spacing: 0.05em;
		color: #ffffff;
		padding-bottom: 0.5rem;
		border-bottom: 2px solid #ffffff;
		margin-bottom: 1.5rem;
		display: inline-block;
	}

	.section-label--right {
		display: block;
		text-align: right;
		border-bottom: none;
		padding-bottom: 0;
	}

	.section-label--right::after {
		content: '';
		display: block;
		width: 100%;
		height: 2px;
		background: #ffffff;
		margin-top: 0.5rem;
	}

	/* -----------------------------------------------------------
	 * INSTRUMENT BUTTON: The primary CTA
	 * Heavy border, monospaced text, physical feedback.
	 * ----------------------------------------------------------- */

	.btn-instrument {
		display: inline-block;
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 11px;
		font-weight: 700;
		text-transform: uppercase;
		letter-spacing: 0.08em;
		padding: 0.75rem 1.5rem;
		border: var(--border-weight) solid #ffffff;
		background: #000000;
		color: #ffffff;
		box-shadow: 4px 4px 0px rgba(255, 255, 255, 1);
		transition: all 0.1s cubic-bezier(0.2, 0, 0, 1);
		cursor: pointer;
		text-decoration: none;
		position: relative;
	}

	/* Trusted-by logos: normalized footprint with restrained contrast */
	.trusted-by-strip {
		border-top: 1px solid #000000;
		padding-top: 1.1rem;
		max-width: 42rem;
	}

	.trusted-logo-wrap {
		display: flex;
		align-items: center;
		justify-content: flex-start;
		min-height: 3.5rem;
	}

	.trusted-logo-image {
		display: block;
		width: auto;
		object-fit: contain;
		opacity: 0.72;
		filter: grayscale(100%) invert(1);
		transition: opacity 0.2s ease;
	}

	.trusted-logo-wrap:hover .trusted-logo-image {
		opacity: 0.9;
	}

	/*
	 * Per-logo optical sizing.
	 * Each height is hand-tuned so the primary wordmark / mark
	 * in every logo reads at the same visual weight.
	 *
	 *   nuuly          — bold, ultra-wide wordmark (4:1)
	 *   kate spade     — light wordmark + "NEW YORK" (1.4:1)
	 *   under armour   — UA shield + stacked text (1.2:1)
	 *   google shopping — bag icon + text (1.7:1)
	 */
	.trusted-logo-image--nuuly {
		height: 1.5rem;
	}

	.trusted-logo-image--kate-spade {
		height: 3.2rem;
	}

	.trusted-logo-image--under-armour {
		height: 3rem;
	}

	.trusted-logo-image--google-shopping {
		height: 2.2rem;
	}

	.btn-instrument:hover {
		background: #ffffff;
		color: #000000;
		transform: translate(-2px, -2px);
		box-shadow: 8px 8px 0px rgba(255, 255, 255, 1);
	}

	.btn-instrument:active {
		transform: translate(2px, 2px);
		box-shadow: 0px 0px 0px rgba(255, 255, 255, 1);
	}

	/* Raw accent variant */
	.btn-instrument--raw {
		border-color: #ffffff;
		color: #ffffff;
	}

	.btn-instrument--raw:hover {
		background: #ffffff;
		color: white;
		box-shadow: 4px 4px 0px rgba(155, 27, 27, 0.25);
	}

	/* -----------------------------------------------------------
	 * STATUS BADGE: Monospaced pill
	 * ----------------------------------------------------------- */

	.status-badge {
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 0.625rem;
		font-weight: 700;
		text-transform: uppercase;
		letter-spacing: 0.1em;
		padding: 0.25rem 0.75rem;
		border: var(--border-weight) solid #ffffff;
		display: inline-block;
	}

	.status-badge--active {
		background: #ffffff;
		color: #000000;
	}

	.status-badge--beta {
		background: transparent;
		color: #ffffff;
	}

	.status-badge--archived {
		border-color: #000000;
		color: #ffffff;
	}

	/* -----------------------------------------------------------
	 * PIXEL TRIANGLE LIST: The Geist marker
	 * Uses the Triangle variant for technical list styles.
	 * ----------------------------------------------------------- */

	.list-triangle {
		list-style: none;
		padding: 0;
	}

	.list-triangle li {
		position: relative;
		padding-left: 1.5rem;
		margin-bottom: 0.5rem;
	}

	.list-triangle li::before {
		content: 't';
		/* 't' is usually the triangle in Geist Pixel Triangle */
		position: absolute;
		left: 0;
		top: 0;
		font-family: 'Geist Pixel Triangle', monospace;
		color: #ffffff;
		font-size: 1.25rem;
		line-height: 1;
	}

	/* -----------------------------------------------------------
	 * ART PLATE: Gallery frame system
	 * Upgraded to the new border/shadow language.
	 * ----------------------------------------------------------- */

	.art-plate {
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
	}

	.art-plate__inner {
		padding: 0.5rem;
		background-color: #000000;
		border: var(--border-weight) solid var(--border-color);
		box-shadow: var(--shadow-stamp);
		transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1),
			box-shadow 0.2s cubic-bezier(0.2, 0, 0, 1);
	}

	.art-plate--surface-paper .art-plate__inner {
		background: #000000;
	}

	.art-plate--surface-ink .art-plate__inner {
		background: #000000;
	}

	.art-plate--matted .art-plate__inner {
		padding: 2rem;
	}

	.art-plate--float .art-plate__inner {
		padding: 0.75rem;
		box-shadow: var(--shadow-stamp-lg);
		transform: translate(-1px, -1px);
	}

	.art-plate:hover .art-plate__inner {
		transform: translate(-2px, -2px);
		box-shadow: var(--shadow-stamp-hover);
	}

	.art-plate__caption {
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 0.6875rem;
		line-height: 1.35;
		letter-spacing: 0.02em;
		color: #ffffff;
	}

	.art-plate__link {
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 0.6875rem;
		line-height: 1.35;
		letter-spacing: 0.02em;
		color: #ffffff;
		text-decoration: underline;
		text-underline-offset: 3px;
		text-decoration-thickness: 1px;
	}

	.art-plate__link:hover,
	.art-plate__link:focus-visible {
		color: var(--raw-dark);
		text-decoration-thickness: 2px;
	}

	/* -----------------------------------------------------------
	 * ART SLOT: Media frame
	 * ----------------------------------------------------------- */

	.art-slot__frame {
		position: relative;
		width: 100%;
		overflow: hidden;
		background: rgba(0, 0, 0, 0.03);
	}

	@supports (aspect-ratio: 1 / 1) {
		.art-slot__frame {
			aspect-ratio: var(--slot-aspect, 16 / 9);
		}
	}

	@supports not (aspect-ratio: 1 / 1) {
		.art-slot__frame::before {
			content: '';
			display: block;
			padding-top: var(--slot-ratio, 56.25%);
		}

		.art-slot__frame>* {
			position: absolute;
			inset: 0;
		}
	}

	.art-slot__media {
		width: 100%;
		height: 100%;
		object-fit: var(--slot-fit, cover);
		object-position: var(--slot-position, 50% 50%);
		display: block;
	}

	.art-slot__rive,
	.art-slot__empty {
		display: flex;
		align-items: center;
		justify-content: center;
		width: 100%;
		height: 100%;
		background: #000000;
	}

	.art-slot__empty {
		position: relative;
	}

	/* Empty state crosshair — structural, not decorative */
	.art-slot__empty::before,
	.art-slot__empty::after {
		content: '';
		position: absolute;
		background: #ffffff;
	}

	.art-slot__empty::before {
		width: 28%;
		height: 2px;
		left: 36%;
		top: 50%;
	}

	.art-slot__empty::after {
		width: 2px;
		height: 28%;
		top: 36%;
		left: 50%;
	}

	.art-slot__empty>span {
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 0.6875rem;
		letter-spacing: 0.08em;
		text-transform: uppercase;
		color: #ffffff;
		z-index: 1;
	}

	.art-slot__rive {
		position: relative;
	}

	.rive-player {
		position: relative;
	}

	.art-slot__rive-canvas,
	.art-slot__rive-fallback,
	.art-slot__rive-empty {
		position: absolute;
		inset: 0;
	}

	.art-slot__rive-canvas {
		width: 100% !important;
		height: 100% !important;
		opacity: 0;
	}

	.art-slot__rive-fallback {
		opacity: 1;
	}

	.art-slot__rive--loaded .art-slot__rive-canvas {
		opacity: 1;
	}

	.art-slot__rive--loaded .art-slot__rive-empty,
	.art-slot__rive--loaded .art-slot__rive-fallback {
		opacity: 0;
	}

	.art-slot__rive--loaded .art-slot__rive-canvas {
		pointer-events: auto;
	}

	.rive-player__debug {
		position: absolute;
		right: 0.5rem;
		bottom: 0.5rem;
		margin: 0;
		padding: 0.4rem 0.5rem;
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 0.625rem;
		line-height: 1.35;
		color: rgba(255, 255, 255, 0.9);
		background: #000000;
		pointer-events: none;
		z-index: 2;
	}

	.motion-os-hud {
		position: fixed;
		left: 0.75rem;
		bottom: 0.75rem;
		width: min(26rem, calc(100vw - 1.5rem));
		background: rgba(10, 10, 10, 0.9);
		color: #f5f5f5;
		border: 1px solid rgba(255, 255, 255, 0.35);
		z-index: 12000;
		backdrop-filter: blur(6px);
	}

	.motion-os-hud__head {
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 0.625rem;
		font-weight: 700;
		letter-spacing: 0.12em;
		text-transform: uppercase;
		padding: 0.4rem 0.55rem;
		border-bottom: 1px solid rgba(255, 255, 255, 0.25);
	}

	.motion-os-hud__body {
		margin: 0;
		padding: 0.55rem;
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 0.625rem;
		line-height: 1.45;
		white-space: pre-wrap;
	}

	.motion-os-hud-toggle {
		position: fixed;
		left: 0.75rem;
		bottom: 0.75rem;
		z-index: 11999;
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 0.625rem;
		letter-spacing: 0.1em;
		text-transform: uppercase;
		padding: 0.3rem 0.5rem;
		border: 1px solid #ffffff;
		background: #000000;
		color: #ffffff;
	}

	.motion-os-intensity-toggle {
		position: fixed;
		left: 0.75rem;
		bottom: 2.7rem;
		z-index: 11999;
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 0.625rem;
		letter-spacing: 0.1em;
		text-transform: uppercase;
		padding: 0.3rem 0.5rem;
		border: 1px solid #ffffff;
		background: #000000;
		color: #ffffff;
	}

	.motion-os-hud:not([hidden])+.motion-os-hud-toggle {
		bottom: calc(0.75rem + 10.75rem);
	}

	.lab-rive-fallback {
		width: 100%;
		height: 100%;
		display: flex;
		align-items: center;
		justify-content: center;
		background: #000000;
	}

	.lab-rive-fallback span {
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 0.625rem;
		text-transform: uppercase;
		letter-spacing: 0.12em;
		color: #ffffff;
	}

	#route-kinetic-punctuation {
		position: fixed;
		inset: 0;
		pointer-events: none;
		z-index: 11000;
		opacity: 0;
		background: linear-gradient(90deg, transparent 0%, #ffffff 50%, transparent 100%);
		transform: translateX(-30%) skewX(-8deg);
	}

	.motion-route-pulse #route-kinetic-punctuation {
		animation: route-punctuation-sweep calc(520ms + (360ms * var(--motion-strength))) cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
	}

	.motion-route-pulse #route-kinetic-punctuation::before,
	.motion-route-pulse #route-kinetic-punctuation::after {
		content: '';
		position: absolute;
		inset: 0;
	}

	.motion-route-pulse #route-kinetic-punctuation::before {
		background: radial-gradient(circle at center, #ffffff, transparent 58%);
		animation: route-punctuation-bloom calc(420ms + (260ms * var(--motion-strength))) ease-out;
	}

	.motion-route-pulse #route-kinetic-punctuation::after {
		background: repeating-linear-gradient(-12deg, transparent 0 20px, rgba(255, 255, 255, 0.18) 20px 22px);
		animation: route-punctuation-scan calc(320ms + (220ms * var(--motion-strength))) ease-out;
	}

	.route-punctuation-rive {
		position: fixed;
		right: 1.2rem;
		bottom: 1.2rem;
		width: calc(82px + (48px * var(--motion-strength)));
		height: calc(82px + (48px * var(--motion-strength)));
		pointer-events: none;
		z-index: 11001;
		opacity: 0;
		mix-blend-mode: multiply;
		transition: transform 220ms ease, opacity 220ms ease;
	}

	.motion-route-pulse .route-punctuation-rive {
		transform: scale(calc(1 + (0.22 * var(--motion-strength)))) rotate(-3deg);
		opacity: 0.85;
	}

	.route-punctuation-rive .rive-player__canvas {
		opacity: 1;
	}

	.route-punctuation-fallback {
		position: absolute;
		inset: 0;
		border: 2px solid rgba(26, 26, 26, 0.18);
		background: #000000;
		opacity: 0;
	}

	.motion-route-pulse .route-punctuation-fallback {
		opacity: 1;
	}

	@keyframes route-punctuation-sweep {
		0% {
			opacity: 0;
			transform: translateX(-35%) skewX(-8deg);
		}

		16% {
			opacity: 1;
		}

		100% {
			opacity: 0;
			transform: translateX(35%) skewX(-8deg);
		}
	}

	@keyframes route-punctuation-bloom {
		0% {
			opacity: 0;
			transform: scale(0.92);
		}

		30% {
			opacity: 1;
		}

		100% {
			opacity: 0;
			transform: scale(1.05);
		}
	}

	@keyframes route-punctuation-scan {
		0% {
			opacity: 0;
			transform: translateX(-8%);
		}

		20% {
			opacity: 0.9;
		}

		100% {
			opacity: 0;
			transform: translateX(8%);
		}
	}

	#motion-intro-curtain {
		position: fixed;
		inset: 0;
		pointer-events: none;
		z-index: 11500;
		opacity: 0;
	}

	#motion-intro-curtain>span {
		position: absolute;
		inset: 0;
		display: block;
		background: #000000;
		transform: translateX(-102%);
	}

	#motion-intro-curtain>span:last-child {
		background: #ffffff;
		transform: translateX(102%);
	}

	html.motion-intro-sequence #motion-intro-curtain {
		opacity: 1;
	}

	html.motion-intro-sequence #motion-intro-curtain>span:first-child {
		animation: intro-curtain-left calc(780ms + (720ms * var(--motion-strength))) cubic-bezier(0.2, 0.9, 0.2, 1) forwards;
	}

	html.motion-intro-sequence #motion-intro-curtain>span:last-child {
		animation: intro-curtain-right calc(920ms + (760ms * var(--motion-strength))) cubic-bezier(0.2, 0.9, 0.2, 1) forwards;
	}

	html[data-motion-intensity] [data-motion-chapter] {
		opacity: 0.08;
		transform: translateY(calc(30px * var(--motion-strength)));
		transition: transform calc(220ms + (380ms * var(--motion-strength))) cubic-bezier(0.2, 0.8, 0.2, 1), opacity calc(220ms + (380ms * var(--motion-strength))) ease;
	}

	html[data-motion-intensity] [data-motion-chapter].motion-chapter-in {
		opacity: 1;
		transform: translateY(0);
	}

	html[data-motion-intensity] .hero-section {
		transform: translateY(calc(var(--motion-hero-progress) * -22px * var(--motion-strength)));
		filter: saturate(calc(1 + (0.16 * var(--motion-hero-progress) * var(--motion-strength))));
		will-change: transform;
	}

	#home-motion-moment {
		position: relative;
		overflow: clip;
	}

	#home-motion-moment::after {
		content: '';
		position: absolute;
		left: 0;
		right: 0;
		top: 0;
		height: 4px;
		background: linear-gradient(90deg, transparent 0%, #ffffff 50%, transparent 100%);
		transform-origin: center;
		transform: scaleX(calc(0.2 + (var(--motion-specimen-progress) * 0.8)));
		opacity: calc(0.25 + (var(--motion-specimen-progress) * 0.6));
		pointer-events: none;
	}

	.motion-lab-card {
		opacity: 0.2;
		transform: translateY(16px) scale(0.985);
		transition: transform 360ms cubic-bezier(0.2, 0.8, 0.2, 1), opacity 320ms ease, filter 280ms ease;
	}

	.motion-lab-card.is-awake {
		opacity: 1;
		transform: translateY(0) scale(1);
	}

	.motion-lab-card.is-dimmed {
		opacity: 0.45;
		filter: grayscale(38%) contrast(92%);
	}

	@keyframes intro-curtain-left {
		0% {
			transform: translateX(-102%);
		}

		22% {
			transform: translateX(0);
		}

		100% {
			transform: translateX(102%);
		}
	}

	@keyframes intro-curtain-right {
		0% {
			transform: translateX(102%);
		}

		28% {
			transform: translateX(0);
		}

		100% {
			transform: translateX(-102%);
		}
	}

	@media (prefers-reduced-motion: reduce) {
		.art-slot__rive-canvas {
			display: none;
		}

		.motion-route-pulse #route-kinetic-punctuation {
			animation: none;
			opacity: 0.28;
		}

		html[data-motion-intensity] [data-motion-chapter] {
			opacity: 1;
			transform: none;
		}

		.route-punctuation-rive .rive-player__canvas {
			display: none;
		}

		.motion-lab-card {
			opacity: 1;
			transform: none;
		}
	}

	/* -----------------------------------------------------------
	 * TOOL CARD: Upgraded with stamped shadows by default
	 * ----------------------------------------------------------- */

	.tool-card {
		background-color: #000000;
		border: var(--border-weight) solid var(--border-color);
		box-shadow: var(--shadow-stamp);
		transition: all 0.2s cubic-bezier(0.2, 0, 0, 1);
	}

	.tool-card:hover {
		transform: translate(-2px, -2px);
		box-shadow: var(--shadow-stamp-hover);
		border-color: #ffffff;
	}

	.tool-card:focus-visible {
		outline: 2px solid #ffffff;
		outline-offset: 3px;
	}

	/* -----------------------------------------------------------
	 * PAINTING CARD: Gallery-grade frame + museum wall label
	 * The image is treated as a physical object — matted,
	 * bordered, with stamped depth. The label beneath it uses
	 * the monospaced instrument layer.
	 * ----------------------------------------------------------- */

	.painting-card {
		display: block;
		text-decoration: none;
		color: inherit;
	}

	.painting-card__frame {
		border: var(--border-weight) solid var(--border-color);
		box-shadow: var(--shadow-stamp);
		background: #000000;
		transition: transform 0.2s cubic-bezier(0.2, 0, 0, 1),
			box-shadow 0.2s cubic-bezier(0.2, 0, 0, 1);
	}

	/* The mat: generous white space around the image */
	.painting-card__mat {
		padding: 1rem;
		background-color: #000000;
	}

	.painting-card--featured .painting-card__mat {
		padding: 1.5rem;
	}

	.painting-card--featured .painting-card__frame {
		box-shadow: var(--shadow-stamp-lg);
	}

	.painting-card__image {
		width: 100%;
		height: auto;
		display: block;
		object-fit: cover;
	}

	/* Hover: lift the frame */
	.painting-card:hover .painting-card__frame {
		transform: translate(-2px, -2px);
		box-shadow: var(--shadow-stamp-hover);
	}

	/* Gallery label — the museum wall text */
	.painting-card__label {
		padding-top: 0.75rem;
		padding-left: 2px;
		/* Optical alignment with frame edge */
	}

	.painting-card__title {
		font-family: 'Inter', system-ui, sans-serif;
		font-weight: 700;
		font-size: 1rem;
		letter-spacing: -0.01em;
		line-height: 1.3;
		color: #ffffff;
		margin: 0 0 0.25rem 0;
		transition: color 0.15s ease;
	}

	.painting-card:hover .painting-card__title {
		color: #ffffff;
	}

	.painting-card__available {
		color: #ffffff;
		font-size: 0.5rem;
		vertical-align: super;
		margin-left: 0.25rem;
	}

	.painting-card__meta {
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 0.6875rem;
		font-weight: 400;
		letter-spacing: 0.02em;
		color: #ffffff;
		margin: 0 0 0.125rem 0;
	}

	.painting-card__dimensions {
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 0.625rem;
		font-weight: 400;
		letter-spacing: 0.04em;
		color: #ffffff;
		margin: 0;
	}

	.painting-card__series {
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 0.5625rem;
		font-weight: 700;
		text-transform: uppercase;
		letter-spacing: 0.1em;
		color: #ffffff;
		margin: 0.5rem 0 0 0;
	}

	/* -----------------------------------------------------------
	 * GALLERY GRID: Asymmetric masonry-like layout
	 * Featured paintings span 2 columns. Regular paintings
	 * sit in a standard column. On mobile, everything stacks.
	 * ----------------------------------------------------------- */

	.gallery-grid {
		display: grid;
		grid-template-columns: 1fr;
		gap: 2.5rem;
	}

	@media (min-width: 768px) {
		.gallery-grid {
			grid-template-columns: repeat(12, 1fr);
			gap: 2rem;
			row-gap: 3rem;
		}

		/* Featured: spans 7 columns */
		.gallery-grid__item--featured {
			grid-column: span 7;
		}

		/* Regular: spans 5 columns */
		.gallery-grid__item--regular {
			grid-column: span 5;
		}

		/* Full-width break for dramatic pacing */
		.gallery-grid__item--full {
			grid-column: 1 / -1;
		}
	}

	@media (min-width: 1024px) {
		.gallery-grid {
			gap: 2.5rem;
			row-gap: 3.5rem;
		}
	}

	/* -----------------------------------------------------------
	 * WORDMARK: Gothic blackletter with glitch on hover
	 * The text is the brand. No images. CSS-only animation.
	 * ----------------------------------------------------------- */

	.wordmark {
		display: inline-block;
		position: relative;
		line-height: 1;
		cursor: pointer;
	}

	.wordmark__text {
		font-family: 'Geist Pixel Circle', sans-serif;
		font-size: 1.5rem;
		font-weight: 900;
		color: #ffffff;
		letter-spacing: 0.1em;
		text-transform: uppercase;
		display: inline-block;
		position: relative;
		transition: transform 0.1s cubic-bezier(0.2, 0, 0, 1);
	}

	@media (min-width: 768px) {
		.wordmark__text {
			font-size: 1.75rem;
		}
	}

	.wordmark:hover .wordmark__text {
		transform: translate(-2px, -2px);
		text-shadow: 4px 4px 0px #ffffff;
	}

	@keyframes wordmark-glitch-top {
		0% {
			opacity: 0;
			transform: translate(0, 0);
			clip-path: inset(0 0 65% 0);
		}

		20% {
			opacity: 1;
			transform: translate(-3px, -2px);
			clip-path: inset(10% 0 55% 0);
		}

		40% {
			opacity: 0.6;
			transform: translate(2px, 0);
			clip-path: inset(0 0 70% 0);
		}

		60% {
			opacity: 0.9;
			transform: translate(-1px, -1px);
			clip-path: inset(5% 0 60% 0);
		}

		100% {
			opacity: 0.7;
			transform: translate(-2px, -1px);
			clip-path: inset(0 0 65% 0);
		}
	}

	@keyframes wordmark-glitch-bottom {
		0% {
			opacity: 0;
			transform: translate(0, 0);
			clip-path: inset(60% 0 0 0);
		}

		20% {
			opacity: 1;
			transform: translate(3px, 1px);
			clip-path: inset(50% 0 0 0);
		}

		40% {
			opacity: 0.6;
			transform: translate(-2px, 2px);
			clip-path: inset(65% 0 0 0);
		}

		60% {
			opacity: 0.9;
			transform: translate(1px, 1px);
			clip-path: inset(55% 0 0 0);
		}

		100% {
			opacity: 0.7;
			transform: translate(2px, 1px);
			clip-path: inset(60% 0 0 0);
		}
	}

	/* Respect reduced motion — disable glitch, keep static */
	@media (prefers-reduced-motion: reduce) {

		.wordmark:hover .wordmark__text::before,
		.wordmark:hover .wordmark__text::after {
			animation: none;
			opacity: 0;
		}
	}

	/* -----------------------------------------------------------
	 * HERO SECTION: Opening page of the manual
	 * Subtle paper texture, structural presence.
	 * ----------------------------------------------------------- */

	.hero-section {
		background-color: transparent;
		position: relative;
	}

	/* Faint top rule inside the hero for "printed page" feel */
	.hero-section::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		height: 3px;
		background: #ffffff;
		opacity: 0.7;
	}

	/* -----------------------------------------------------------
	 * REVEAL ANIMATIONS
	 * ----------------------------------------------------------- */

	.art-reveal--fade {
		animation: art-reveal-fade 420ms ease-out both;
	}

	.art-reveal--wipe .art-slot__frame::after {
		content: '';
		position: absolute;
		inset: 0;
		background: #ffffff;
		animation: art-reveal-wipe 520ms ease-out both;
		pointer-events: none;
	}

	@keyframes art-reveal-fade {
		from {
			opacity: 0;
			transform: translateY(4px);
		}

		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	@keyframes art-reveal-wipe {
		from {
			transform: translateX(0%);
		}

		to {
			transform: translateX(102%);
		}
	}

	/* -----------------------------------------------------------
	 * PROSE OVERRIDES
	 * When Tailwind Typography is used, maintain the aesthetic.
	 * ----------------------------------------------------------- */

	.prose a {
		color: #ffffff;
		text-decoration: underline;
		text-underline-offset: 3px;
		text-decoration-thickness: 1px;
		transition: color 0.15s ease;
	}

	.prose a:hover {
		color: var(--raw-dark);
		text-decoration-thickness: 2px;
	}

	.prose code {
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-size: 0.875em;
		background: #000000;
		padding: 0.15em 0.4em;
		border: 1px solid #000000;
	}

	.prose blockquote {
		border-left: 3px solid #ffffff;
		padding-left: 1.25rem;
		font-style: normal;
		color: #ffffff;
	}
}

/* =============================================================
 * UTILITY LAYER
 * ============================================================= */

@layer utilities {
	.reveal {
		@apply opacity-0 translate-y-4 transition duration-700 ease-out;
		will-change: transform, opacity;
	}

	.reveal--visible {
		@apply opacity-100 translate-y-0;
	}

	.reveal--instant {
		transition-duration: 0ms;
	}

	/* Material surface utility — inherits the noise from body */
	.bg-paper {
		background-color: #000000 !important;
	}

	/* Monospaced instrument text utility */
	.font-instrument {
		font-family: 'IBM Plex Mono', ui-monospace, monospace;
		font-variant-numeric: tabular-nums;
	}

	/* Raw accent text */
	.text-raw {
		color: #ffffff;
	}

	/* Structural divider — heavier than border-b */
	.divider-heavy {
		border-bottom: var(--border-weight) solid var(--border-color);
	}

	/* Divider with muted color */
	.divider-muted {
		border-bottom: 1px solid #000000;
	}
}

/* =============================================================
 * REDUCED MOTION: Respect user preferences
 * ============================================================= */

@media (prefers-reduced-motion: reduce) {

	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
}